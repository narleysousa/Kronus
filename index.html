<!DOCTYPE html>
<!-- Este index.html é para desenvolvimento (Vite). No GitHub Pages use "Source: GitHub Actions" para publicar o build (dist), não "Deploy from a branch". -->
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="theme-color" content="#4f46e5" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Kronus" />
    <title>Kronus - Ponto Eletrônico</title>
    <meta name="description" content="Kronus - Gestão de Ponto Inteligente. Registre entradas e saídas, acompanhe banco de horas.">
    <link rel="icon" href="./logo.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="./icon-192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="./icon-180.png" sizes="180x180" />
    <link rel="manifest" href="./manifest.webmanifest" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./index.css">
  </head>
  <body>
    <script>
      (function(){var t=localStorage.getItem('kronus_theme');var d=window.matchMedia('(prefers-color-scheme: dark)').matches;var dark=(t==='dark')||(t!=='light'&&d);document.documentElement.classList.toggle('dark',!!dark);})();
    </script>
    <div id="deploy-warning" style="display:none;position:fixed;inset:0;z-index:9999;background:#1e293b;color:#f8fafc;font-family:Inter,sans-serif;padding:2rem;overflow:auto;">
      <div style="max-width:520px;margin:0 auto;padding:2rem 0;">
        <h1 style="font-size:1.5rem;font-weight:700;margin-bottom:1rem;">⚠️ O app não carregou</h1>
        <p style="color:#94a3b8;margin-bottom:1rem;">O GitHub Pages está publicando o <strong>código-fonte</strong> em vez do <strong>build</strong>. Por isso o navegador não consegue executar o app (erro de MIME type / index.tsx).</p>
        <p style="color:#94a3b8;margin-bottom:1.5rem;">Para corrigir:</p>
        <ol style="color:#cbd5e1;margin-left:1.25rem;margin-bottom:1.5rem;line-height:1.6;">
          <li>No repositório no GitHub, vá em <strong>Settings</strong> → <strong>Pages</strong>.</li>
          <li>Em <strong>Build and deployment</strong> → <strong>Source</strong>, selecione <strong>GitHub Actions</strong> (não use &quot;Deploy from a branch&quot;).</li>
          <li>Salve. Faça um push na branch <code style="background:#334155;padding:2px 6px;border-radius:4px;">main</code> para o workflow publicar o build.</li>
        </ol>
        <p style="color:#64748b;font-size:0.875rem;">Depois disso, o site voltará a carregar em <strong>https://narleysousa.github.io/Kronus/</strong></p>
      </div>
    </div>
    <div id="root"></div>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = { darkMode: 'class' };
    </script>
    <script type="module" src="./index.tsx"></script>
    <script>
      (function(){
        setTimeout(function(){
          var w=document.getElementById('deploy-warning');
          var r=document.getElementById('root');
          var isSourcePage=document.querySelector('script[src*="index.tsx"]');
          if(w&&r&&isSourcePage&&!r.innerHTML.trim()){w.style.display='block';}
        },3500);
      })();
    </script>
  </body>
</html>
